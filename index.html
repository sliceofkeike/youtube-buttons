<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Style IG Feed</title>
    <style>
        :root { --heart-pink: #F2B8D8; --yt-gray: #606060; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            min-height: 100vh; margin: 0; background: #f9f9f9; user-select: none;
        }

        /* YOUTUBE STYLE NAV BAR */
        .nav-bar {
            display: flex;
            justify-content: space-around;
            width: 100%;
            max-width: 400px;
            background: white;
            border-bottom: 1px solid #e5e5e5;
            margin-bottom: 20px;
        }

        .nav-item {
            padding: 12px 0;
            font-size: 14px;
            font-weight: 500;
            color: var(--yt-gray);
            cursor: pointer;
            position: relative;
            flex: 1;
            text-align: center;
            transition: color 0.2s;
        }

        /* The underline effect */
        .nav-item.active {
            color: #000;
        }

        .nav-item.active::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 15%;
            width: 70%;
            height: 2px;
            background-color: #000;
        }

        /* FEED FRAME */
        .feed-frame {
            position: relative; width: 90vw; max-width: 400px;
            background: #000; border-radius: 12px; overflow: hidden; touch-action: none;
            z-index: 1;
        }

        .ratio-square { aspect-ratio: 1 / 1; }
        .ratio-landscape { aspect-ratio: 16 / 9; }
        .ratio-portrait { aspect-ratio: 4 / 5; }

        #slides-wrapper {
            display: flex; width: 100%; height: 100%;
            transition: transform 0.5s cubic-bezier(0.45, 0.05, 0.55, 0.95);
        }

        .slide-container { min-width: 100%; height: 100%; overflow: hidden; position: relative; }
        .slide { width: 100%; height: 100%; object-fit: cover; transform-origin: center; display: block; transition: transform 0.2s ease-out; }
        .draggable { cursor: move !important; }

        /* HEART & MENU */
        .heart-container {
            position: absolute; bottom: 15px; left: 15px;
            z-index: 10; opacity: 0; transition: opacity 0.3s;
        }
        .feed-frame:hover .heart-container { opacity: 1; }
        .heart-icon { font-size: 24px; color: var(--heart-pink); cursor: pointer; filter: drop-shadow(0 0 5px rgba(0,0,0,0.5)); }

        .menu-overlay {
            position: fixed; top: 50%; left: 30px; 
            transform: translateY(-50%) translateX(-200%);
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(12px); border-radius: 20px;
            padding: 20px; display: flex; flex-direction: column;
            box-shadow: 0 15px 40px rgba(0,0,0,0.15); width: 190px; gap: 10px; z-index: 9999;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
        }
        .menu-active .menu-overlay { transform: translateY(-50%) translateX(0); }

        .menu-overlay button { background: none; border: none; padding: 10px; text-align: left; cursor: pointer; font-size: 14px; color: #444; border-radius: 8px; }
        .menu-overlay button:hover { background: #fdf0f6; color: var(--heart-pink); }
        .done-btn { margin-top: 10px; text-align: center !important; font-weight: bold; border-top: 1px solid #eee !important; padding-top: 15px !important; color: var(--heart-pink) !important; }
        .reset-btn { color: #aaa !important; font-size: 11px !important; }
        input[type=range] { width: 100%; accent-color: var(--heart-pink); cursor: pointer; }

        /* NAV ARROWS */
        .nav-arrow {
            position: absolute; top: 50%; transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2); border: none;
            color: white; width: 32px; height: 32px; border-radius: 50%;
            cursor: pointer; z-index: 5; opacity: 0; transition: 0.3s;
        }
        .feed-frame:hover .nav-arrow { opacity: 1; }
        .prev { left: 10px; } .next { right: 10px; }
        .dots { position: absolute; bottom: 10px; width: 100%; display: flex; justify-content: center; gap: 5px; z-index: 5; }
        .dot { width: 5px; height: 5px; background: rgba(255,255,255,0.4); border-radius: 50%; transition: 0.3s; }
        .dot.active { background: white; width: 7px; height: 7px; }
    </style>
</head>
<body id="main-body">

    <div class="nav-bar">
        <div class="nav-item active" onclick="setTab(this)">Home</div>
        <div class="nav-item" onclick="setTab(this)">Videos</div>
        <div class="nav-item" onclick="setTab(this)">Shorts</div>
        <div class="nav-item" onclick="setTab(this)">Playlists</div>
        <div class="nav-item" onclick="setTab(this)">Posts</div>
    </div>

    <div id="feed-container" class="feed-frame">
        <div id="slides-wrapper"></div>

        <div id="ui-layer">
            <div class="menu-overlay">
                <button onclick="setRatio('landscape')">Landscape (16:9)</button>
                <button onclick="setRatio('square')">4 x 4 Ratio</button>
                <button onclick="setRatio('portrait')">Original Frame</button>
                <button onclick="resetImage()" class="reset-btn">↺ Reset Current Photo</button>
                <hr style="border:0; border-top:1px solid #eee; width:100%">
                <button onclick="toggleMove()" id="move-btn">Move Mode: OFF</button>
                <div style="font-size: 10px; font-weight: bold; color: var(--heart-pink); margin-top: 8px;">ZOOM LEVEL</div>
                <input type="range" id="zoom-slider" min="1" max="3" step="0.1" value="1" oninput="updateZoom(this.value)">
                <button class="done-btn" onclick="toggleMenu()">Done</button>
            </div>

            <div class="heart-container" id="heart-wrap">
                <div class="heart-icon" onclick="toggleMenu()">♥</div>
            </div>
        </div>

        <button class="nav-arrow prev" onclick="changeSlide(-1)">❮</button>
        <button class="nav-arrow next" onclick="changeSlide(1)">❯</button>
        <div id="dots-container" class="dots"></div>
    </div>

    <script>
        const CONFIG = {
            defaultStyle: 'portrait', 
            pages: [
                "https://i.pinimg.com/736x/7d/84/2c/7d842cd7f984c7b87c32da2c2ff4db45.jpg",
                "https://i.pinimg.com/736x/74/6d/61/746d619f1612eef6516fc4bb14bc4452.jpg",
                "https://i.pinimg.com/736x/f4/ee/0c/f4ee0c9df9b42e99e71e3fae76fb0fdd.jpg"
            ]
        };

        let currentIndex = 0;
        let validImages = CONFIG.pages.filter(url => url.trim() !== "");
        let canDrag = false;
        let positions = validImages.map(() => ({ x: 50, y: 50, zoom: 1 }));

        window.onload = () => {
            const frame = document.getElementById('feed-container');
            const wrapper = document.getElementById('slides-wrapper');
            const dotsContainer = document.getElementById('dots-container');

            frame.classList.add(`ratio-${CONFIG.defaultStyle}`);

            validImages.forEach((url, idx) => {
                const container = document.createElement('div');
                container.className = 'slide-container';
                const img = document.createElement('img');
                img.src = url;
                img.className = 'slide';
                img.draggable = false;
                
                let isMoving = false;
                let startX, startY;

                const start = (e) => { if(!canDrag) return; isMoving = true; startX = (e.pageX || e.touches[0].pageX); startY = (e.pageY || e.touches[0].pageY); };
                const move = (e) => {
                    if(!isMoving || !canDrag) return;
                    const x = (e.pageX || e.touches[0].pageX);
                    const y = (e.pageY || e.touches[0].pageY);
                    positions[idx].x += (startX - x) / 5;
                    positions[idx].y += (startY - y) / 5;
                    positions[idx].x = Math.max(0, Math.min(100, positions[idx].x));
                    positions[idx].y = Math.max(0, Math.min(100, positions[idx].y));
                    img.style.objectPosition = `${positions[idx].x}% ${positions[idx].y}%`;
                    startX = x; startY = y;
                };
                const end = () => isMoving = false;

                img.onmousedown = start; img.ontouchstart = start;
                window.addEventListener('mousemove', move); window.addEventListener('touchmove', move);
                window.addEventListener('mouseup', end); window.addEventListener('touchend', end);

                container.appendChild(img);
                wrapper.appendChild(container);

                let d = document.createElement('div');
                d.className = `dot ${idx === 0 ? 'active' : ''}`;
                dotsContainer.appendChild(d);
            });
        };

        // Switch Active Tab
        function setTab(element) {
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            element.classList.add('active');
            // You can add logic here to filter the feed based on the tab clicked!
        }

        function toggleMenu() { document.getElementById('main-body').classList.toggle('menu-active'); }
        function setRatio(type) { document.getElementById('feed-container').className = `feed-frame ratio-${type}`; }
        
        function resetImage() {
            const slides = document.querySelectorAll('.slide');
            positions[currentIndex] = { x: 50, y: 50, zoom: 1 };
            slides[currentIndex].style.transform = `scale(1)`;
            slides[currentIndex].style.objectPosition = `50% 50%`;
            document.getElementById('zoom-slider').value = 1;
        }

        function toggleMove() {
            canDrag = !canDrag;
            document.getElementById('move-btn').innerText = `Move Mode: ${canDrag ? 'ON' : 'OFF'}`;
            document.querySelectorAll('.slide').forEach(s => s.classList.toggle('draggable', canDrag));
        }

        function updateZoom(val) {
            positions[currentIndex].zoom = val;
            document.querySelectorAll('.slide')[currentIndex].style.transform = `scale(${val})`;
        }

        function changeSlide(n) {
            const wrapper = document.getElementById('slides-wrapper');
            const dots = document.querySelectorAll('.dot');
            dots[currentIndex].classList.remove('active');
            currentIndex += n;
            if (currentIndex >= validImages.length) currentIndex = 0;
            if (currentIndex < 0) currentIndex = validImages.length - 1;
            wrapper.style.transform = `translateX(-${currentIndex * 100}%)`;
            dots[currentIndex].classList.add('active');
            document.getElementById('zoom-slider').value = positions[currentIndex].zoom;
        }
    </script>
</body>
</html>
